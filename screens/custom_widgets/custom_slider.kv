#:kivy 2.2.1
#:set INNER_RADIUS_SCALE 0.6
#:set OUTER_RADIUS_SCALE 1.2
#:set OUTER_LINE_SCALE 0.2
#:set INNER_LINE_SCALE 0.1

<CustomSlider>:

    # Background
    canvas.after:
        # Back
        Color:
            rgba: self.secondary_color
        Line:
            points: [self.x, self.y+ self.height/2,self.x+ self.width, self.y + self.height/2]
            width: self.height*OUTER_LINE_SCALE
        # Line
        Color:
            rgba: self.primary_color
        Line:
            points: [self.x + self.height*(OUTER_LINE_SCALE - INNER_LINE_SCALE), self.y+ self.height/2,self.x+ self.width - self.height*0.15, self.y + self.height/2]
            width: self.height*INNER_LINE_SCALE
        # Outer circle
        Color:
            rgba: self.secondary_color
        Ellipse:
            pos: (self.x + self.height*(OUTER_LINE_SCALE - INNER_LINE_SCALE) + (self.width- self.height*(OUTER_LINE_SCALE - INNER_LINE_SCALE)*2)*self.value_normalized- self.height*OUTER_RADIUS_SCALE/2,self.y + self.height/2 - self.height*OUTER_RADIUS_SCALE/2)
            size: (self.height*OUTER_RADIUS_SCALE,self.height*OUTER_RADIUS_SCALE)
        # Inner circle
        Color:
            rgba: self.primary_color
        Ellipse:
            pos: (self.x + self.height*(OUTER_LINE_SCALE - INNER_LINE_SCALE) + (self.width- self.height*(OUTER_LINE_SCALE - INNER_LINE_SCALE)*2)*self.value_normalized -self.height*INNER_RADIUS_SCALE/2,self.y +self.height/2 - self.height*INNER_RADIUS_SCALE/2)
            size: (self.height*INNER_RADIUS_SCALE,self.height*INNER_RADIUS_SCALE)
